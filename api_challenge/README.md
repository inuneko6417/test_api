# APIタイミングチャレンジ

## 概要
このテストは、指定された時刻にAPIリクエストを送信する精度を競うAPIチャレンジを解決するためのスクリプトだと思っています
過去のリクエストのタイミングのズレを学習し、次回の送信時刻を動的に調整することで、より効率のいいリクエスト送信を目指しました。
今回は貴社の開発で採用されており、普段から使い慣れているRubyを使用して実装いたしました。

### 前提条件
- Ruby実行環境 バージョン: 2.6系

### 実行
以下のコマンドでスクリプトを実行します。
```bash
ruby api_challenge/main.rb
```

## 苦労したところ

### 最初の失敗（5回で終了）
最初は毎回新しいHTTP接続を作っていて、その時間がかかりすぎて5回くらいで失敗していました。

### 次の壁（50回で停止）
接続を使い回すようにしたら50回くらいまで行けるようになりましたが、そこでまた止まってしまいました。
よく見ると、タイミング調整の初期値が大きすぎたことが原因でした。

### 改善の過程
| 試行 | 変更内容 | 結果 |
|------|---------|------|
| 1回目 | 最初の実装 | 5回で失敗 |
| 2回目 | HTTP接続を使い回し | 50回くらいで失敗 |
| 3回目 | 初期値を調整 | 90〜150回達成 |


## 感想
最初は「こんなの無理では...」と思いましたが、1つずつ問題を解決していくことで、最終的に達成できました。
特にHTTP接続の仕組みや、タイミング制御の難しさを実感できたのが良い経験になりました。
実装の過程では、AIにコードの内容を質問したり、QiitaなどでHTTPリクエストに関する記事を参考にしたりしました。
大変いい勉強になりました。